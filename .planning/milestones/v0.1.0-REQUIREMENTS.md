# Requirements Archive: v0.1.0 Init + Agents

**Archived:** 2026-02-08
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements: Data Architect

**Defined:** 2026-02-07
**Core Value:** The DAB layer must produce a correct, methodology-compliant Anchor Model through genuine agent debate -- not template generation.

## Milestone 1 Requirements

Milestone 1 scope: `architect init` + working agents in OpenCode via `/da:*` commands.

### Project Foundation

- [x] **PROJ-01**: Python package with src/ layout, UV + Hatchling build system, pip-installable as `data-architect`
- [x] **PROJ-02**: Pure functional Python enforced -- no classes, frozen dataclasses for data, pure functions for behavior
- [x] **PROJ-03**: Makefile with targets: bootstrap (install deps + pre-commit), lint, type, test, check (runs all three)
- [x] **PROJ-04**: Pre-commit hooks enforce linting, type checking, and conventional commit messages
- [x] **PROJ-05**: CI pipeline runs lint + type + test on pull requests
- [x] **PROJ-06**: Dynamic versioning from git tags -- no hardcoded version strings
- [x] **PROJ-07**: TDD enforced -- tests written before implementation for all pure functions

### CLI

- [x] **CLI-01**: `architect init` command creates all files in cwd with zero prompts and clear output showing every file created
- [x] **CLI-02**: Idempotent re-run -- skip existing files with warning, `--force` flag to overwrite
- [x] **CLI-03**: `--dry-run` flag shows what would be created without writing files
- [x] **CLI-04**: `--dir` flag scaffolds into directory other than cwd
- [x] **CLI-05**: `--help` with usage examples for all commands
- [x] **CLI-06**: Human-readable error messages for common failures (not writable, existing files, etc.)

### Agent Definitions

- [x] **AGNT-01**: System/Integration Analyst agent -- technical/source-system persona, understands data structures and system constraints
- [x] **AGNT-02**: Business Analyst agent -- domain/business-needs persona, thinks in business terms and user questions
- [x] **AGNT-03**: Data Architect agent -- entry point, Anchor Modeling expertise, synthesizes debate, orchestrates CLP workflow
- [x] **AGNT-04**: Data Engineer agent -- physical modeling specialist, performance, indexing, partitioning concerns
- [x] **AGNT-05**: Analytics Engineer agent -- consumption/reporting perspective, understands how warehouse will be queried
- [x] **AGNT-06**: Veteran Reviewer agent -- grumpy veteran persona, anti-pattern detection, methodology critique

### Agent Quality

- [x] **QUAL-01**: Agent prompts encode deep Anchor Modeling methodology rules (anchor vs attribute vs tie vs knot criteria, historization, naming conventions)
- [x] **QUAL-02**: CLP debate protocol encoded in agent prompts -- agents argue through Conceptual -> Logical -> Physical stages
- [x] **QUAL-03**: Debate termination logic -- bounded iterations, convergence detection, escalation to user for final decision
- [x] **QUAL-04**: System Analyst and Business Analyst have opposing default positions to prevent premature consensus
- [x] **QUAL-05**: Veteran Reviewer has concrete anti-pattern checklists, not vague "review for quality" instructions

### OpenCode Integration

- [x] **OCODE-01**: All 6 agent files in `.opencode/agents/` with valid YAML frontmatter (description, model, tools, permissions)
- [x] **OCODE-02**: AGENTS.md in project root with shared ADSS/Anchor Modeling methodology context for all agents
- [x] **OCODE-03**: opencode.json pre-configured -- default agent, model assignments, tool permissions, team works out of the box
- [x] **OCODE-04**: OpenCode skills in `.opencode/skills/da-*/SKILL.md` -- invoked as `/da:*` commands
- [x] **OCODE-05**: Spec format bootstrapping -- example YAML schemas so agents produce consistent output format

### Modeling (via Agents)

- [x] **MODL-01**: User can start from business description and agents extract initial conceptual entities
- [x] **MODL-02**: User can point to source schemas (Swagger, OData, ERD) in filesystem and agents incorporate them
- [x] **MODL-03**: User can provide business questions and agents use them to inform warehouse design
- [x] **MODL-04**: Agents produce YAML/JSON specs as output of CLP debate

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| PROJ-01 | Phase 1 | Complete |
| PROJ-02 | Phase 1 | Complete |
| PROJ-03 | Phase 1 | Complete |
| PROJ-04 | Phase 1 | Complete |
| PROJ-05 | Phase 1 | Complete |
| PROJ-06 | Phase 1 | Complete |
| PROJ-07 | Phase 1 | Complete |
| CLI-01 | Phase 2 | Complete |
| CLI-02 | Phase 2 | Complete |
| CLI-03 | Phase 2 | Complete |
| CLI-04 | Phase 2 | Complete |
| CLI-05 | Phase 2 | Complete |
| CLI-06 | Phase 2 | Complete |
| AGNT-01 | Phase 3 | Complete |
| AGNT-02 | Phase 3 | Complete |
| AGNT-03 | Phase 3 | Complete |
| AGNT-04 | Phase 3 | Complete |
| AGNT-05 | Phase 3 | Complete |
| AGNT-06 | Phase 3 | Complete |
| QUAL-01 | Phase 4 | Complete |
| QUAL-02 | Phase 4 | Complete |
| QUAL-03 | Phase 4 | Complete |
| QUAL-04 | Phase 4 | Complete |
| QUAL-05 | Phase 4 | Complete |
| OCODE-01 | Phase 3 | Complete |
| OCODE-02 | Phase 3 | Complete |
| OCODE-03 | Phase 3 | Complete |
| OCODE-04 | Phase 3 | Complete |
| OCODE-05 | Phase 3 | Complete |
| MODL-01 | Phase 4 | Complete |
| MODL-02 | Phase 4 | Complete |
| MODL-03 | Phase 4 | Complete |
| MODL-04 | Phase 4 | Complete |

**Coverage:**
- Milestone 1 requirements: 33 total
- Shipped: 33
- Adjusted: 0
- Dropped: 0

---

## Milestone Summary

**Shipped:** 33 of 33 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-02-08 as part of v0.1.0 milestone completion*
